<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Login</title>
    <link rel="stylesheet" href="style.css">
    <style>
        #forgetBody{
            background: linear-gradient(to top, rgba(0,0,0,0.5)50%,rgba(0,0,0,0.5)50%), url(img10.jpg);
            color: white;
        }
        .form{
            transform: translate(-100%,10%);
        }
     
        #ErrorMessage{
            margin-top: 15px;
        }
    </style>
</head>
<body id="forgetBody">
    <div>
        <form method="post" action="/forget" >
                <div class="form">
                    <h2>Forget Password</h2>
                    <div id="ErrorMessage"></div>
                    <div>
                        <input type="text"  name="UserId"  pattern="[nN][0-9]{6}" required placeholder="Enter College ID"/>
                    </div>
                    <div>     
                        <div id="seq">
                            
                            <span>Security Question</span><br>
                            <select name="secu_q">
                                <option>What is Your Favourite Place?</option>
                                <option>What was the first film you saw in a theatre?</option>
                                <option>What was the first name of your Favourite Person?</option>
                            </select><br>
                            <input type="text" placeholder="Your Answer" name="secu_q_a">
                        </div>
                    </div> 
                    <div>
                        <input id="pass" type="password" name="Password" required minlength="8" placeholder="Enter Password"/>
                    </div>
                    <div>
                        <input id="cpass" type="password" name="Password2" required minlength="8" placeholder="Confirm Password"/>
                    </div>
                    
                    <button class="btnn" type="submit" onclick="fetchDetails();">Change Password</button><br>
                    <div id="forget"><a href="Login.html">Login </a></div>
                    <p class="link">Don't have an account<br>
                    <a href="Register.html">Sign up </a> here</p> 
                </div>
        </form>
    </div>
    <script>
        function showMessage()
        {
            let ErrorMessage = "";
            var LoginMessage = '<%= Message %>';
            if(LoginMessage == "ISQ")
            {
                ErrorMessage = "Wrong Security Question";
            }
            else if(LoginMessage=="IDNotExists"){
                
                ErrorMessage = "ID Not Exists";
            } 
            else if(LoginMessage=="Changed"){
                alert("Password Changed");
                location.href = "Login.html";
            }
            let ErrorMessagDiv = document.getElementById('ErrorMessage');
            ErrorMessagDiv.innerText = ErrorMessage;
        }
        setTimeout(showMessage,100);
    </script>
</body>
</html>